<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KoroMado Timer - Settings</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="stylerain.css" />
  <script src="rain.js" defer></script>
</head>

<body>
  <!-- Rain Effect -->
  <div class="rain-container"></div>

  <div class="container">
    <!-- Background -->
    <img src="images/background.jpg" class="background" alt="bg" />
    <script>
      // Apply saved theme
      const savedTheme = localStorage.getItem("selectedTheme");
      if (savedTheme) {
        document.querySelector(".background").src = "images/themes/" + savedTheme;
      }
    </script>

    <!-- Logo -->
    <div class="logo-center">
      <img src="images/octopus.png" alt="octopus" class="icon-large" />
      <h1>koroMado timer</h1>
    </div>

    <!-- Glassbox for Settings -->
    <div class="glassbox form-box">
      <!-- Close button -->
      <a href="main.html" class="close-btn">âœ•</a>

      <!-- Heading -->
      <h2 class="form-heading">Settings</h2>

      <!-- Settings Form -->
      <form>
        <label for="focusTime">Focus length (minutes)</label>
        <input type="number" id="focusTime" value="25" min="1" max="120" />

        <label for="breakTime">Break length (minutes)</label>
        <input type="number" id="breakTime" value="5" min="1" max="60" />

        <label for="sound">Sound</label>
        <select id="sound">
          <option value="chime">Chime</option>
          <option value="bell">Bell</option>
          <option value="none">None</option>
        </select>

        <!-- Save Button -->
        <div class="form-btn-wrap">
          <button type="button" class="glow-btn" onclick="saveSettings()">ðŸ’¾ Save</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    function saveSettings() {
      const focusTime = document.getElementById("focusTime").value;
      const breakTime = document.getElementById("breakTime").value;
      const sound = document.getElementById("sound").value;

      localStorage.setItem("focusTime", focusTime);
      localStorage.setItem("breakTime", breakTime);
      localStorage.setItem("sound", sound);

      alert("âœ… Settings saved!");
    }

    // Load saved settings on page load
    window.onload = () => {
      if (localStorage.getItem("focusTime")) {
        document.getElementById("focusTime").value = localStorage.getItem("focusTime");
      }
      if (localStorage.getItem("breakTime")) {
        document.getElementById("breakTime").value = localStorage.getItem("breakTime");
      }
      if (localStorage.getItem("sound")) {
        document.getElementById("sound").value = localStorage.getItem("sound");
      }
    };
  </script>
</body>
</html>
